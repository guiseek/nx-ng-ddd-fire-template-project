<mat-horizontal-stepper [linear]="true" #stepper (selectionChange)="onDone($event.selectedIndex, inputPassword)">

  <mat-step [stepControl]="emailForm">
    <form [formGroup]="emailForm">
      <ng-template matStepLabel>Email</ng-template>
      <mat-form-field>

        <input type="email" matInput autofocus formControlName="email" placeholder="nome@provedor.com" required>

        <mat-error *ngIf="emailForm.get('email') as email">
          <span *ngIf="email.hasError('required')">
            Seu email é obrigatório
          </span>
          <span *ngIf="email.hasError('email')">
            Endereço de email inválido
          </span>
        </mat-error>
      </mat-form-field>

      <div fxLayout="row" fxLayoutAlign="end">
        <button mat-icon-button matStepperNext>
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="passwordForm">
    <form [formGroup]="passwordForm">
      <ng-template matStepLabel>Senha</ng-template>
      <mat-form-field>

        <input type="password" matInput #inputPassword formControlName="password" placeholder="Ex. Ae10u!" required>

        <mat-error *ngIf="passwordForm.get('password') as password">
          <span *ngIf="password.hasError('minLength')">
            Mínimo de 6 caracteres
          </span>
          <span *ngIf="password.hasError('passwordStrength')">
            {{ password.getError('passwordStrength') }}
          </span>
        </mat-error>

      </mat-form-field>
      <div fxLayout="row" fxLayoutAlign="space-between">
        <button mat-icon-button matStepperPrevious>
          <mat-icon>navigate_before</mat-icon>
        </button>
        <button mat-icon-button (click)="onSubmit()">
          <mat-icon>done</mat-icon>
        </button>
      </div>
    </form>
  </mat-step>

</mat-horizontal-stepper>
